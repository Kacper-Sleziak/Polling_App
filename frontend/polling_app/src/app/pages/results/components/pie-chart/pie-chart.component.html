<div class="chart-wrapper" #chartWrapper>

    <ngx-charts-pie-chart

        [results]="results"
        [view]= "view"
        [legend]="legend"
        [legendTitle]="legendTitle"
        [legendPosition] = "legendPosition"
        [labels] = "labels"
        [trimLabels] = true
        [labelFormatting]="labelFormatting"
        [animations]=true
    >

        <!-- Custom tooltip -->
        <ng-template #tooltipTemplate let-model="model">
            <div style="padding: 5px;">
                <div *ngFor="let answerPart of splitLongAnswer(model.name, 20)">
                    {{answerPart}}
                </div>
                <hr style="margin-left: -5px; margin-right: -5px;">
                <span *ngIf="model.value !== 1">Wybrano {{model.value}} razy ({{countPercent(model.value)}})</span> 
                <span *ngIf="model.value === 1">Wybrano {{model.value}} raz ({{countPercent(model.value)}})</span> 
                <hr style="margin-left: -5px; margin-right: -5px;">
            </div>
        </ng-template>

    </ngx-charts-pie-chart>
</div>
