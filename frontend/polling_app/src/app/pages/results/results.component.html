<div>
    <button  (click)="onPDFDownload()" color="primary" mat-button>Pobierz PDF</button>
</div>


<div class="mat-elevation-z3" style="width: 900px; margin: auto; border-radius: 5px; padding: 30px;" >
    <h1>
        Pierwsze pytanie
    </h1>
    <div style="opacity: 0.6;">
        <hr>
        <p style="margin-left: 5px; font-weight: 500;">
            Liczba odpowiedzi: {{countNumberOfAnswers(dataToChart)}}
        </p>
    </div>

    
    <div style="width: 700px; height: 300px; margin: auto; padding: 50px; ">

        <ngx-charts-bar-vertical
        [results]="dataToChart"
        [view]= "view"
        [legend]="true"
        [legendTitle]="ans"
        [legendPosition] = "pos"
        [yAxis]="true"
        [xAxis]="false"
        [xAxisLabel]="ans"
        [yAxisTickFormatting]="axisYFormat"
        [xAxisTickFormatting]="axisXFormat"
        [showYAxisLabel] ="true"
        [showXAxisLabel] ="false"
        [yAxisLabel]="yLabel"
        [rotateXAxisTicks]="false"
        [noBarWhenZero]="false"
        
        >
    
            <!-- Custom tooltip -->
            <ng-template #tooltipTemplate let-model="model">
                <div style="padding: 5px;">
                    <div *ngFor="let answerPart of splitLongAnswer(model.name, 20)">
                        {{answerPart}}
                    </div>
                    <hr style="margin-left: -5px; margin-right: -5px;">
                    Liczba: {{model.value}} ({{countPercent(model.value)}}%)
                    <hr style="margin-left: -5px; margin-right: -5px;">
                </div>
            </ng-template>

        </ngx-charts-bar-vertical>
    </div>
</div>





