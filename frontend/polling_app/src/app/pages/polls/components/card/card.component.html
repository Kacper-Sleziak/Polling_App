<mat-card class="card mat-elevation-z3">

    <!-- Header -->
    <mat-card-header>
      <mat-card-title>{{poll.status.charAt(0).toUpperCase() + poll.status.slice(1)}} 
        <!-- Toggled depends on status -->
        <mat-slide-toggle *ngIf="poll.status === 'editing'" disabled></mat-slide-toggle>
        <mat-slide-toggle *ngIf="poll.status === 'close'" color="primary" checked="false" (change)="taggleChangeHandle()"></mat-slide-toggle>
        <mat-slide-toggle *ngIf="poll.status === 'open'" color="primary" checked="true" (change)="taggleChangeHandle()"></mat-slide-toggle>
        
      </mat-card-title>
      <mat-card-subtitle>ID ankiety: {{poll.id}}</mat-card-subtitle>
      
    </mat-card-header>
    <mat-divider></mat-divider>

    <!-- Fake image -->
    <div class="fake-image mat-elevation-z2"><div class="poll-title">{{poll.name}}</div></div>

    <!-- Contnent below fake image -->
    <mat-card-content>

        <!-- Start date -->
        <mat-divider></mat-divider>
        <div id="startDate">
            Od: {{poll.startDate.slice(0,16)}}
        </div>
        <!-- End date -->
        <mat-divider></mat-divider>
        <div id="endDate">
            Do: {{poll.endDate.slice(0,16)}}
        </div>
      <mat-divider></mat-divider>

    </mat-card-content>

    <!---------------------------------------------- Buttons -------------------------------------------------------------->
    <mat-card-actions>

      <!-- Send button -->
      <button mat-icon-button 
              matTooltip="Wyślij" 
              [disabled]="poll.status !== 'aktywna'"
              [matTooltipDisabled]="poll.status !== 'aktywna'"  
              color="primary" 
              aria-label="Button to send poll">

        <mat-icon>send</mat-icon>
      </button>

      <!-- Results button -->
      <button mat-icon-button 
              matTooltip="Wyniki" 
              [matTooltipDisabled]="poll.status === 'oczekująca' || poll.status === 'edytowana'" 
              [disabled]="poll.status === 'oczekująca' || poll.status === 'edytowana'" 
              color="primary" 
              aria-label="Button to show results">

        <mat-icon>poll</mat-icon>
      </button>
      
      <!-- Pageview button -->
      <button mat-icon-button 
              matTooltip="Podgląd" 
              color="primary" 
              aria-label="Button to poll preview">

        <mat-icon>pageview</mat-icon>
      </button>

      <!-- Edit dates button (toggled with edit poll button according to state)-->
      <button mat-icon-button  
              *ngIf="poll.status !== 'edytowana'"
              matTooltip="Edytowanie dat" 
              [matTooltipDisabled]="poll.status === 'zakończona'" 
              [disabled]="poll.status === 'zakończona'" 
              color="primary" 
              aria-label="Button to edit poll dates">

        <mat-icon>edit_calendar</mat-icon>
      </button>

      <!-- Edit poll button -->
      <button mat-icon-button  
              *ngIf="poll.status === 'edytowana'"
              matTooltip="Edytuj" 
              color="primary" 
              aria-label="Button to edit poll">

        <mat-icon>edit</mat-icon>
      </button>

      <!-- Copy button -->
      <button mat-icon-button 
              matTooltip="Skopiuj" 
              color="primary" 
              aria-label="Button to duplicate poll">

        <mat-icon>file_copy</mat-icon>
      </button>

      <!-- Delete button -->
      <button mat-icon-button
              class="delete-button" 
              matTooltip="Usuń"  
              color="primary" 
              (click)="openDeleteDialog()"
              aria-label="Button to delete poll">

        <mat-icon>delete_forever</mat-icon>
      </button>

    </mat-card-actions>
  </mat-card>
  
